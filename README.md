#Drawing Checker: Приложение для нормоконтроля чертежей по ГОСТ

Это десктопное приложение на Python для автоматизированной проверки технических чертежей (PDF или CAD) на соответствие российским ГОСТам (например, ГОСТ 2.102, 2.305 и т.д.). Оно анализирует текст (основная надпись, коды, подписи), графику (положение размеров, Ra, стрелки, допуски) и структуру. Использует Ollama с моделями вроде Llama и Llava для семантического разбора и выявления несоответствий.

Приложение соответствует ТЗ: 
- **Этап 1**: Адаптация под актуальные ГОСТы (загружаются из docs/).
- **Этап 2**: Извлечение текста/графики, семантический анализ, сверка с нормами, выявление аномалий (несоответствия, пропуски).
- **Этап 3**: Генерация "Красного карандаша" - отчет с замечаниями (место, цитата, ссылка на ГОСТ, суть, критичность, рекомендации). Вывод в текст и PDF.

## Скриншоты
![Интерфейс загрузки](assets/desktop-1.png)  
![Результат проверки](assets/desktop-2.png)  

## Требования
- Python 3.8+.
- Ollama (локальный сервер с моделями: llama2:3b, llava:7b и т.д.). Скачай с [ollama.com](https://ollama.com).
- Шрифт DejaVuSans.ttf для PDF-экспорта (положи в корень проекта).

## Установка
1. Клонируй репозиторий:
git clone https://github.com/твой-username/drawing-checker-app.git
cd drawing-checker-app
text2. Установи зависимости:
pip install -r requirements.txt
text3. Запусти Ollama сервер:
- Установи Ollama.
- Загрузи модели: `ollama pull qwen3:14b` и `ollama pull llava:7b`.
- Запусти: `ollama serve` (должен быть на http://localhost:11434).

## Использование
1. Запусти приложение:
python drawing_checker.py
text2. В интерфейсе:
- Выбери модели (текстовую и vision).
- Загрузи PDF (кнопка "Загрузить PDF").
- Нажми "Проверить чертеж (полная)" для полного анализа (текст + графика) или "Быстрая проверка" для упрощенного.
- Результаты в окне: ✓/✗ по элементам, рекомендации (например, "Рекомендуется привести в соответствие простановку размера на полке линии-выноски").
- Экспортируй отчет в PDF (кнопка "Сохранить отчет").
3. Пример: Загрузи assets/РНАТ.123456.001МЧ.pdf - проверит основную надпись, Ra, размеры.

## Как работает анализ
- **Текст**: Извлекает с PyMuPDF, проверяет на ключевые слова (основная надпись, подписи: разраб/пров/т.контр/утв).
- **Графика**: Конвертирует страницы в изображения, анализирует с vision-моделями Ollama (положение фигур, сравнение с ГОСТ).
- **Замечания**: Классифицирует как "критическое" (требования 1.1.1-1.1.4,1.1.7-1.1.9) или "рекомендация" (1.1.5,1.1.6). Формирует таблицу и "красный карандаш" с врезками.
